/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  combineCodec,
  getI64Decoder,
  getI64Encoder,
  getStructDecoder,
  getStructEncoder,
  getU64Decoder,
  getU64Encoder,
  type FixedSizeCodec,
  type FixedSizeDecoder,
  type FixedSizeEncoder,
} from '@solana/kit';

export type BurnRateLimiter = {
  /** Executed burns ("heat") that decay over time. */
  accumulatedStressBpX10k: bigint;
  /** Pending burns in the queue; does not decay. */
  pendingQueueSharesBpX10k: bigint;
  lastUpdateTs: bigint;
};

export type BurnRateLimiterArgs = {
  /** Executed burns ("heat") that decay over time. */
  accumulatedStressBpX10k: number | bigint;
  /** Pending burns in the queue; does not decay. */
  pendingQueueSharesBpX10k: number | bigint;
  lastUpdateTs: number | bigint;
};

export function getBurnRateLimiterEncoder(): FixedSizeEncoder<BurnRateLimiterArgs> {
  return getStructEncoder([
    ['accumulatedStressBpX10k', getU64Encoder()],
    ['pendingQueueSharesBpX10k', getU64Encoder()],
    ['lastUpdateTs', getI64Encoder()],
  ]);
}

export function getBurnRateLimiterDecoder(): FixedSizeDecoder<BurnRateLimiter> {
  return getStructDecoder([
    ['accumulatedStressBpX10k', getU64Decoder()],
    ['pendingQueueSharesBpX10k', getU64Decoder()],
    ['lastUpdateTs', getI64Decoder()],
  ]);
}

export function getBurnRateLimiterCodec(): FixedSizeCodec<
  BurnRateLimiterArgs,
  BurnRateLimiter
> {
  return combineCodec(getBurnRateLimiterEncoder(), getBurnRateLimiterDecoder());
}
